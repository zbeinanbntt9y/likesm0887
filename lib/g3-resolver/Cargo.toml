[package]
name = "g3-resolver"
version = "0.4.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
tokio = { "version" = "1.3", features = ["rt", "sync", "time", "macros"] }
tokio-util = { "version" = "0.7", features = ["time"]}
log = "0.4"
indexmap = "1.6"
anyhow = "1.0"
thiserror = "1.0"
ahash = "0.8"
c-ares = { "version" = "7", optional = true }
c-ares-resolver = { "version" = "7", optional = true }
trust-dns-resolver = { "version" = "0.22", optional = true, default-features = false, features = ["tokio-runtime", "dns-over-rustls", "dns-over-https-rustls"] }
trust-dns-proto = { "version" = "0.22", optional = true }
rustls = { version = "0.20", optional = true }
g3-types = { path = "../g3-types", optional = true }

[features]
default = []
c-ares = ["dep:c-ares", "dep:c-ares-resolver"]
trust-dns = ["dep:trust-dns-resolver", "dep:trust-dns-proto", "g3-types/rustls", "dep:rustls"]
